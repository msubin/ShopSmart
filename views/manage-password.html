<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>ShopSmart</title>
    <meta name="comp1800 boilerplate code" content="my bcit project">
    <meta name="author" content="BCIT">

    <!-- Bootstrap for Mobile-first, and JQuery -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.6.1/firebase-ui-auth.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css">

    <!-- Optional styles and scripts of your own -->
    <link rel="stylesheet" href="../styles/shopping-list.css">
    <link rel="stylesheet" href="../styles/manage-password.css">

</head>


<body>

    <!-------------------------------------->
    <!-- The following is HTML for layout -->
    <!-------------------------------------->
    <a id="goBackBtn" type="button" href="./more-popup.html" style="color: black"><i class="fas fa-arrow-left"></i></a>

    <div class="d-flex justify-content-center" style="padding: 6%;">
        <i class="fas fa-carrot fa-2x carrot" style="color: #ed9121; padding-right: 5px; padding-top: 5px;"></i>

        <div class="btn-group">
            <button id="current-list" type="button" class="btn btn-secondary" data-bs-toggle="dropdown"
                data-bs-display="static" aria-expanded="false">ShopSmart</button>
        </div>
    </div>

    <!-- CHANGE PASSWORD FORM -->
    <div id="changePasswordForm">
        <span id="passwordChangedNotification">
            Password succesfully changed
        </span>
        <h1 class="display-6 change_password">Change Your Password</h1>
        <hr>
        <div class="form-floating mb-3" id="currentPassword">
            <input type="password" class="form-control" id="floatingInput">
            <label for="floatingInput">Current Password</label>
        </div>
        <div class="form-floating" id="newPassword">
            <input type="password" class="form-control" id="floatingPassword">
            <label for="floatingPassword">New Password</label>
        </div>
        <button type="submit" class="btn btn-primary" id="savePassword">Submit</button>
    </div>

    <!-- Bottom Nav -->
    <footer class="navbar fixed-bottom">
        <ul class="nav nav-pills nav-fill fixed-bottom nav-justified footer_color">
            <li class="nav-item">
                <a class="nav-link" aria-current="page" href="./shopping-list.html"><i
                        class="fas fa-shopping-cart fa-2x"></i><br>Shopping
                    List</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="./pantry.html"><i class="fas fa-archive fa-2x"></i><br>Pantry List</a>
            </li>
            <li class="nav-item active_section">
                <a class="nav-link" href="./more-popup.html"><i class="fas fa-ellipsis-h fa-2x"></i><br>More
                    Features</a>
            </li>
        </ul>
    </footer>


    <!----------------------------------------------->
    <!-- JS: Boostrap, Firebase, API related    -->
    <!----------------------------------------------->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous">
        </script>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous">
        </script>
    <script src="https://kit.fontawesome.com/26da0e4274.js" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous">
        </script>
    <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/4.6.1/firebase-ui-auth.js"></script>
    <script src="https://kit.fontawesome.com/26da0e4274.js" crossorigin="anonymous"></script>
    <script src="../server/firebase_api_team48.js"></script>
    <!--------------------------------------------------------------------->
    <!-- JS files: Your own JavaScript functions included here    -->
    <!--------------------------------------------------------------------->

    <!-- <script src="./server/firebase_api_team48.js"></script> -->

    <script>
        function selectText() {
            let input = document.querySelector("#text_from_input_field")
            let input1 = input.value.replace(/\s/g, '+')
            window.open(`https://www.google.com/search?q=${input1}+recipe`)
        }

        let password = document.querySelector("#savePassword")
        password.addEventListener('click', changePassword)
        function changePassword() {
            console.log(1)
            let newPassword = document.querySelector('#floatingPassword').value
            console.log(newPassword)
            var user = firebase.auth().currentUser;
            // var newPassword = getASecureRandomPassword();

            user.updatePassword(newPassword).then(function () {
                // Update successful.
            }).catch(function (error) {
                // An error happened.
            });
            let notification = document.querySelector("#passwordChangedNotification")
            notification.setAttribute("Style", "visibility: visible")
        }
    </script>

</body>

</html>